<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/checkout.css" />
    <title>Check-In</title>
  </head>
  <body>
    <div class="wrapper">
      <div class="sidebar">
        <div class="profile">
          <div class="profile-image"></div>
          <div class="profile-info">
            <h2>Radisson Blu</h2>
            <p>Dashboard</p>
          </div>
        </div>

        <nav class="nav-menu">
          <div class="nav-item active">
            <a href="dashboard.html">
              <i class="icon">üè†</i>
              <span>Dashboard</span>
            </a>
          </div>
          <div class="nav-item">
            <a href="rooms.html">
              <i class="icon">üõèÔ∏è</i>
              <span>Rooms</span>
            </a>
          </div>
          <div class="nav-item">
            <a href="bookings.html">
              <i class="icon">üìù</i>
              <span>Bookings</span>
            </a>
          </div>
          <div class="nav-item">
            <a href="checkout.html">
              <i class="icon">‚úÖ</i>
              <span>Payments</span>
            </a>
          </div>
          <div class="nav-item">
            <a href="older_bookings.html">
              <i class="icon">üìö</i>
              <span>Older Bookings</span>
            </a>
          </div>
          <div class="nav-item">
            <a href="registration.html">
              <i class="icon">üë•</i>
              <span>Registration</span>
            </a>
          </div>
          <div class="nav-item logout">
            <a href="logout.html">
              <i class="icon">üö™</i>
              <span>Log Out</span>
            </a>
          </div>
        </nav>
      </div>

      <!-- <div class="main-content">
        <header>
          <h1>Check-Out</h1>
        </header>
        <div class="content-container">
          <section class="checkin-form">
            <h2>Please Fill Your Check-Out Details</h2>
            <form id="checkinForm">
              <input
                type="text"
                id="guestName"
                placeholder="Full Name"
                required
              />
              <input
                type="email"
                id="guestEmail"
                placeholder="Email"
                required
              />
              <input
                type="tel"
                id="guestPhone"
                placeholder="Phone Number"
                required
              />
              <input type="date" id="checkInDate" required />
              <input type="date" id="checkOutDate" required />
              <button type="submit">Complete Check-Out</button>
            </form>
          </section> -->
          <section class="booking-summary">
            <h2>Your Booking Summary</h2>
            <table id="bookingTable">
              <thead>
                <tr>
                  <th>Room Type</th>
                  <th>Check-In Date</th>
                  <th>Check-Out Date</th>
                  <th>Total Price</th>
                </tr>
              </thead>
              <tbody id="bookingSummaryBody">
                <!-- Booking details will be inserted here -->
              </tbody>
            </table>
          </section>
        </div>
      </div>
    </div>
    <script>
      fetch('php/get_active_bookings.php')
.then(response => response.json())
.then(data => {
    const bookingSummaryBody = document.getElementById('bookingSummaryBody');
    data.forEach(booking => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${booking.room_type}</td>
            <td>${booking.checkin_date}</td>
            <td>${booking.checkout_date}</td>
            <td>$${booking.room_price}</td>
            <td><button class="delete-btn" data-id="${booking.id}">Delete</button></td>
            <td><button class="complete-btn" data-id="${booking.id}">Complete</button></td>
        `;
        bookingSummaryBody.appendChild(row);
    });
})
.catch(error => console.error('Error fetching active bookings:', error));
    </script>
  </body>
</html>
